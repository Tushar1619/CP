#include <cstdlib>
#include <iostream>
using namespace std;
void solution(){
    int n ;
    cin>>n;
            cout<<n<<endl;
            int a[n] ;
            for( int i = 1; i <= n; i++ ){
                a[i] = i;
                cout << i << " ";
            }
            cout << endl;
             
                for( int i = 2; i <= n; i++ ){
                    swap(a[i],a[i-1]);
                    for( int j = 1; j <= n; j++ ){
                        cout << a[j] << " ";
                    }
                    cout << endl;
            }
        }
int main() {
	// your code goes here
	int t;
	cin>>t;
	while(t-->0){
	    solution();
	}
}
